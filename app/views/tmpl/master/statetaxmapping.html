<div class="page page-tables-bootstrap" ng-controller="statetaxCtrl">

  <!-- page header -->
  <div class="pageheader">
    <h2>{{ 'Menu.STATE_TAX_MAPPING' | translate }}</h2>
    <div class="page-bar">

      <ul class="page-breadcrumb">
        <li>
          <a ui-sref="app.dashboard"><i class="fa fa-home"></i>Home</a>
        </li>
        <li>
          <a href="javascript:;">{{ 'Menu.Master' | translate }}</a>
        </li>
        <li>
          <a ui-sref="app.tables.ui-grid">{{ 'Menu.STATE_TAX_MAPPING' | translate }}</a>
        </li>
      </ul>

    </div>
  </div>
  <!-- /page header -->
  <!-- page content -->
  <div class="pagecontent">
    <!-- row -->

    <div class="row">
      <div class="col-md-12">
        <!-- tile -->
        <section class="tile" fullscreen="isFullscreen01">
          <!-- tile header -->
          <div class="tile-header dvd dvd-btm">
            <h1 class="custom-font"><strong>State wise Tax Mapping:</strong></h1>
          </div>
          <div class="tile-body">
            <div class="row">
              <div class="col-md-8">
                <div class="form-group" style="text-align:center;">
                  <label class="col-sm-4 control-label"><h4><strong><span style="color:red">*</span>Map by State <Category></Category>:-</strong></h4></label>
                  <div class="col-md-8">
                    <select class="form-control mb-3" ng-model="selectedState" ng-change="getStateData(selectedState)"
                     ng-options="pc.id as pc.state1 for pc in getStateList">
                        </select>
                  </div>
                </div>

              </div>
              <div class="col-md-5" style="overflow: scroll;height: 600px;" style="width:100px">

                <div class="tile-header dvd dvd-btm bg-greensea">
                  <h1 class="custom-font"><strong>Un-mapped Tax</strong></h1>
                </div>


                <div class="tile-body">
                  <div class="table-responsive">

                    <table class="table table-hover table-striped table-bordered">
                      <thead>
                        <tr>
                          <th>
                          </th>
                          <th>Tax Type</th>
                          <th>Tax Amount</th>
                        </tr>
                      </thead>
                      <tbody ng-repeat="stateTax in bindUnMapped track by $index">
                        <tr>
                          <td>
                            <label class="checkbox checkbox-custom checkbox-custom-sm m-0">
                                 <input type="checkbox"  ng-model="stateTax.selected"
                                 ng-click="toggleSelection(stateTax.tid);"
                                  ng-value="{{stateTax.tid}}" /><i></i>
                            </label>
                          </td>
                          <td>{{stateTax.ttype}}</td>
                          <td>{{stateTax.tamount}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col-md-1">
                <button type="submit" class="btn btn-success btn-rounded btn-icon-only btn-ef btn-ef-7 btn-ef-7c mb-10"
                activate-button ng-click="mapTax()" ng-disabled="selection.length == 0">
                <i class="fa fa-arrow-right"></i>
                <span>Map</span>
                </button>
                <br>
                <button type="submit" class="btn btn-success btn-rounded btn-icon-only btn-ef btn-ef-7 btn-ef-7c mb-10"
                activate-button  ng-click="unMapTax()" ng-disabled="selectiontounmapped.length == 0">
                <i class="fa fa-arrow-left"></i>
                <span>Unmap</span>
                </button>
              </div>
              <div class="col-md-5" style="overflow: scroll;height: 600px;" style="width:100px">
                <div class="tile-header dvd dvd-btm bg-greensea">
                  <h1 class="custom-font"><strong>Mapped Tax</strong></h1>
                </div>
                
                <div class="tile-body">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                      <thead>
                        <tr>
                          <th style="width:40px;">
                          </th>
                          <th>Tax Type</th>
                          <th>Tax Amount</th>
                        </tr>
                      </thead>
                      <!--  track by $index-->
                      <tbody ng-repeat="map in mapped track by $index">
                        <tr>
                          <td>
                            <label class="checkbox checkbox-custom checkbox-custom-sm m-0">
                              <input type="checkbox" ng-model="map.selected"
                              ng-click="toggleSelectionUnmapped(map.tid);"
                               ng-value="{{map.tid}}" /><i></i>
                           </label>
                          </td>
                          <td>{{map.ttype}}</td>
                          <td>{{ map.tamount}}</td>
                        </tr>
                      </tbody>
                      <!-- </table> -->
                    </table>

                    <!-- </div> -->
                  </div>
        </section>
        <!-- /tile -->
        </div>
        </div>
        </div>
        </div>

      </div>
    </div>

  </div>
