<div class="page page-single-product">
  <!-- page header -->
  <div class="pageheader">
    <div class="page-bar">
      <ul class="page-breadcrumb">
        <li>
          <a ui-sref="app.dashboard"><i class="fa fa-home"></i> Home</a>
        </li>
        <li>
          <a href="javascript:;">{{ 'Menu.CLAIM_APPROVAL' | translate }}</a>
        </li>
        <li>
          <a ui-sref="app.shop.single-product">Claim View</a>
        </li>
      </ul>
    </div>
  </div>
  <!-- /page header -->
  <!-- page content -->
  <div class="pagecontent">
    <!-- tab div -->
    <div class="add-nav">
      <section class="tile" fullscreen="isFullscreen00">
        <div class="nav-heading">
          <h3>Ticket Number : <strong class="text-greensea">{{claims[0].ticketNumber}}</strong></h3>
          <span class="controls pull-right">
        <button class="btn btn-default btn-rounded btn-ef btn-ef-5 btn-ef-5a mb-10" ng-click="back()"><i class="fa fa-arrow-left"></i> <span>Go Back</span></button>
          </span>
        </div>
      </section>
      <!-- <uib-tabset> -->
      <section class="tile" fullscreen="isFullscreen01">
        <div class="tile-header dvd dvd-btm">
          <h1 class="custom-font">Customer Informations</h1>
          <ul class="controls">
            <li uib-dropdown on-toggle="toggled(open)">
              <a href tile-control-toggle>
                <span class="minimize" id="min"><fa name="angle-down"></fa>&nbsp;&nbsp;&nbsp;Minimize</span>
                <span class="expand"><fa name="angle-up"></fa>&nbsp;&nbsp;&nbsp;Expand</span>
              </a>
            </li>
          </ul>
        </div>
        <!-- row -->
        <div class="row">
          <!-- col -->
          <div class="col-md-12">
            <!-- tile -->
            <!-- <section class="tile"> -->
            <!-- tile body -->
            <div class="tile-body">
              <form class="form-horizontal" role="form">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Name</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="name" ng-model="claims[0].name" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Email Address</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="email" ng-model="claims[0].emailId" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Customer Address</label>
                      <div class="col-sm-8">
                        <textarea class="form-control" id="address" ng-model="claims[0].address" disabled>
                        </textarea>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Contact Number</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="number" ng-model="claims[0].contactNo" value="claims[0].contactNo" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label" ng-model="claims[0].dop">Date of Purchase</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="dop" value="{{claims[0].dop}}" disabled>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <!-- /tile body -->
          </div>
          <!-- /col -->
        </div>
        <!-- /row -->
      </section>
      <section class="tile" fullscreen="isFullscreen02">
        <div class="tile-header dvd dvd-btm">
          <h1 class="custom-font">Product Informations</h1>
          <ul class="controls">
            <li uib-dropdown on-toggle="toggled(open)">
              <a href tile-control-toggle>
                <span class="minimize" id="min"><fa name="angle-down"></fa>&nbsp;&nbsp;&nbsp;Minimize</span>
                <span class="expand"><fa name="angle-up"></fa>&nbsp;&nbsp;&nbsp;Expand</span>
              </a>
            </li>
          </ul>
        </div>
        <!-- row -->
        <div class="row">
          <!-- col -->
          <div class="col-md-12">
            <!-- tile -->
            <!-- tile body -->
            <div class="tile-body">
              <form class="form-horizontal" role="form">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="col-sm-4 control-label">IMEI Number </label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="claims[0].imeiNo" id="imei " class="form-control" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Product Name </label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="claims[0].productName" id="productname" class="form-control" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Plan Name</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="plan" ng-model="claims[0].planName" disabled>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Serial Number </label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="claims[0].serialNo" id="serial " class="form-control" disabled>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Model Name </label>
                      <div class="col-sm-8">
                        <input type="text" ng-model="claims[0].modelName" id="model name" class="form-control" disabled>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <!-- /tile body -->
            <!-- /tile -->
          </div>
          <!-- /col -->
        </div>
        <!-- /row -->
      </section>
      <section class="tile" fullscreen="isFullscreen03">
        <div class="tile-header dvd dvd-btm">
          <h1 class="custom-font">Problem Category</h1>
          <ul class="controls">
            <li uib-dropdown on-toggle="toggled(open)">
              <a href tile-control-toggle>
                <span class="minimize" id="min"><fa name="angle-down"></fa>&nbsp;&nbsp;&nbsp;Minimize</span>
                <span class="expand"><fa name="angle-up"></fa>&nbsp;&nbsp;&nbsp;Expand</span>
              </a>
            </li>
          </ul>
        </div>
        <!-- row -->
        <div class="row">
          <!-- col -->
          <div class="col-md-12">
            <!-- tile -->
            <!-- tile body -->
            <div class="tile-body">
              <form class="form-horizontal" role="form">
                <!-- problemcategory -->
                <div class="row">
                  <div class="panel-body col-md-12">
                    <div class="col-md-12" style="text-align:center;margin-top:2%;" ng-if="problemData.length > 0">
                      <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover" id="tblProblem" style="text-align:left;">
                          <thead>
                            <tr>
                              <th>Problem Category</th>
                              <th>Problem Type</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="prob in problemData">
                              <td>{{prob.probleamCategoryName}}</td>
                              <td>{{prob.problemDescription}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <br>
                      <label>Other Problems </label>
                      <textarea ng-model="claims[0].otherProblem" class="form-control" disabled></textarea>
                    </div>
                  </div>
                </div>
                <!-- !problem categry -->
              </form>
            </div>
            <!-- /tile body -->
            <!-- /tile -->
          </div>
          <!-- /col -->
        </div>
        <!-- /row -->
      </section>
      <section class="tile" fullscreen="isFullscreen04">
        <div class="tile-header dvd dvd-btm">
          <h1 class="custom-font">Images </h1>
          <ul class="controls">
            <li uib-dropdown on-toggle="toggled(open)">
              <a href tile-control-toggle>
                <span class="minimize" id="min"><fa name="angle-down"></fa>&nbsp;&nbsp;&nbsp;Minimize</span>
                <span class="expand"><fa name="angle-up"></fa>&nbsp;&nbsp;&nbsp;Expand</span>
              </a>
            </li>
          </ul>
        </div>
        <ul class="mix-controls">
          <!-- <li class="select-all">
            <label class="checkbox checkbox-custom checkbox-custom-sm inline-block m-0">
              <input type="checkbox" ng-model="selectedAll" ng-click="selectAll()"><i></i> Select all
            </label>
          </li> -->
        </ul>
        <!-- ui-jq="mixItUp" -->
        <div class="row" >
          <!-- <div class="gallery" ui-jq="magnificPopup" ui-options="{
              delegate: 'a.img-preview',
              type: 'image',
              tLoading: 'Loading image #%curr%...',
              mainClass: 'mfp-img-mobile',
              gallery: {
                enabled: true,
                navigateByImgClick: true,
                preload: [0,1]
              }
             }"> -->
            <!-- col -->
            <div class="col-md-3 col-sm-3 mb-20">
              <div class="img-container">
                <a href="javascript:;" ng-click="download(serverUrl+'/'+claims[0].filePath)">
                <img class="img-responsive" id=imageid ng-src="{{serverUrl}}/{{claims[0].filePath}}">
              </a>
                <!-- <div class="img-details">
                  <h4 class="custom-font">Proof of purchase</h4>
                  <div class="img-controls">
                    <a href="javascript:;" ng-click="download(serverUrl+'/'+claims[0].filePath)">
                      <i class="fa fa-download"></i>
                    </a>
                    <a class="img-preview" href="{{serverUrl}}/{{claims[0].filePath}}" title="Proof of purchase">
                      <i class="fa fa-search"></i>
                    </a>
                  </div>
                </div> -->
              </div>
            </div>
            <!-- /col -->
          <!-- </div> -->
        </div>
        <!-- ui-jq="mixItUp" -->
        <div class="row" >
          <!-- <div class="gallery" ui-jq="magnificPopup" ui-options="{
                delegate: 'a.img-preview',
                type: 'image',
                tLoading: 'Loading image #%curr%...',
                mainClass: 'mfp-img-mobile',
                gallery: {
                  enabled: true,
                  navigateByImgClick: true,
                  preload: [0,1]
                }
               }"> -->
            <div class="col-md-3 col-sm-3 mb-20 "  ng-repeat="image in uploadDocs">
              <div class="img-container">
                <a href="javascript:;" ng-click="download(serverUrl+'/'+image.docURL)">
                <img class="img-responsive" id=image1id ng-src="{{serverUrl}}/{{image.docURL}}">
              </a>
                <!-- <div class="img-details">
                  <h4 class="custom-font">Remarks by Logistics:{{image.remarks}}</h4>
                  <div class="img-controls">
                    <a href="javascript:;" ng-click="download(serverUrl+'/'+image.docURL)">
                      <i class="fa fa-download"></i>
                    </a>
                    <a class="img-preview" href="{{serverUrl}}/{{image.docURL}}" title="{{image.remarks}}">
                      <i class="fa fa-search"></i>
                    </a>
                  </div>
                </div> -->
              </div>
            </div>
            <!-- /col -->
          <!-- </div> -->
        </div>
      </section>
      <section class="tile" fullscreen="isFullscreen05">
        <div class="tile-header dvd dvd-btm">
          <h1 class="custom-font">Claim Informations</h1>
          <button class="btn btn-default btn-rounded btn-ef btn-ef-5 btn-ef-5a mb-10" style="float:right;right: 62px;" ng-click="viewDoc()" ng-disabled="claims[0].byPassEstimation == 'Warranty Case'">
            View Invoice</button>
        </div>
        <!-- row -->
        <div class="row">
          <!-- col -->
          <div class="col-md-12">
            <!-- tile -->
            <section class="tile">
              <!-- tile body -->
              <div class="tile-body">
                <form class="form-horizontal" role="form">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Failed Type</label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" ng-model="claims[0].byPassEstimation" value="claims[0].byPassEstimation" disabled>
                        </div>
                      </div>
                      <!-- <div class="form-group">
                          <label class="col-sm-4 control-label">Advance Amount</label>
                          <div class="col-sm-8">
                            <input type="text" class="form-control" number-only ng-model="data.advanceAmount" ng-disabled= "claims[0].byPassEstimation == 'Warranty Case' ">
                            <p class="help-block" ng-if="data.advanceAmount > amount">
                              <span class="text-red" >Advance Amount should be less than Estimated amount.</span>
                            </p>
                          </div>
                        </div> -->
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Excess Payment <b><span style="color:red" ng-if ="claims[0].byPassEstimation == 'Normal Claim' || claims[0].byPassEstimation == 'Unauthorised Modification'">*</span></b></label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" number-only ng-model="data.excessPayment" ng-disabled="claims[0].byPassEstimation== 'Warranty Case'">
                          <p class="help-block" ng-if="data.excessPayment > amount">
                            <span class="text-red">Excess payment should be less than Estimated amount.</span>
                          </p>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Repair Type<b><span style="color:red">*</span></b></label>
                        <div class="col-sm-8">
                          <select class="form-control" ng-model="data.repairType">
                            <option value="">Select</option>
                            <option ng-repeat="repair in repairType" value="{{repair.Id}}">
                              {{repair.repairType}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Claim Remark</label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" ng-model="data.claimRemark">
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Estimate Remarks</label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" ng-model="claims[0].estimateRemark" disabled>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Estimate Amount</label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" ng-model="claims[0].estimationAmount" number-only value="{{claims[0].estimationAmount}}" disabled>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-4 control-label">Detuctible Amount</label>
                        <div class="col-sm-8">
                          <input type="text" class="form-control" ng-model="data.deductible" disabled>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <div class="col-sm-5"> </div>
                        <div class="col-sm-6">
                          <button class="btn btn-success btn-rounded btn-ef btn-ef-5 btn-ef-5a mb-10" ng-click="showConfirm($event,'Approved')" ng-disabled=" ( claims[0].byPassEstimation != 'Warranty Case' && (data.advanceAmount > amount
                                            || data.excessPayment > amount  || !data.excessPayment)) || !data.repairType || isSubmit">
                            <i class="fa fa-check"></i> <span>Approve</span></button>
                          <button class="btn btn-danger btn-rounded btn-ef btn-ef-5 btn-ef-5a mb-10" ng-click="showConfirm($event, 'Rejected')">
                            <i class="fa fa-times"></i> <span>Reject</span></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
              <!-- /tile body -->
            </section>
            <!-- /tile -->
          </div>
          <!-- /col -->
        </div>
        <!-- /row -->
      </section>
      <!-- </uib-tab> -->
      <!-- </uib-tabset> -->
    </div>
    <!-- !tab div -->
  </div>
  <!-- /page content -->
</div>
